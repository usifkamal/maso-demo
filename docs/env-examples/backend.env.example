# =============================================================================
# BACKEND SERVICE - Environment Variables
# =============================================================================
# Copy this file to backend/.env.local for local development
# For production (Render/Fly.io), set these as environment variables

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
# Create your project at: https://supabase.com/dashboard
# Ensure you select Frankfurt (EU Central 1) region for EU compliance
NEXT_PUBLIC_SUPABASE_URL=https://your-project-ref.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# =============================================================================
# AI SERVICES
# =============================================================================
# Google Gemini Configuration (required for embeddings)
GEMINI_API_KEY=your-gemini-api-key

# OpenAI Configuration (optional - for chat if not using Gemini)
OPENAI_API_KEY=your-openai-api-key
OPENAI_API_BASE=https://api.openai.com/v1

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Backend service port (3004 for backend, separate from frontend)
PORT=3004
NEXT_PUBLIC_APP_URL=http://localhost:3004
NODE_ENV=development

# =============================================================================
# INGEST API CONFIGURATION
# =============================================================================
# File upload limits (in bytes) - 10MB default
MAX_FILE_SIZE=10485760

# Allowed file types (comma-separated)
ALLOWED_FILE_TYPES=application/pdf,text/plain

# Text processing configuration
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Job processing timeout (milliseconds) - 5 minutes default
JOB_TIMEOUT_MS=300000

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Docker build flag (enables standalone output for containerization)
DOCKER_BUILD=false

# =============================================================================
# SECURITY & COMPLIANCE
# =============================================================================
# Disable telemetry and tracking
NEXT_TELEMETRY_DISABLED=1
VERCEL_ANALYTICS_ID=

# Authentication secrets (generate strong random strings)
# Generate with: openssl rand -base64 32
AUTH_SECRET=your-auth-secret-key-min-32-chars
JWT_SECRET=your-jwt-secret-key

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000  # 15 minutes in milliseconds

# =============================================================================
# ENCRYPTION
# =============================================================================
# 32-character encryption key (generate with: openssl rand -hex 16)
ENCRYPTION_KEY=your-32-character-encryption-key
